#!/usr/bin/env bash

# Exit with nonzero exit code if anything fails.
set -e

cd $GIT_TARGET_FOLDER

echo "1"
echo $GIT_USER_NAME

git config user.name "$GIT_USER_NAME"
git config user.email "$GIT_USER_EMAIL"

echo "2"
# If there are no changes to the compiled out (e.g. this is a README update) then just bail.
# if [ -z `git diff --exit-code` ]; then
    # echo "No changes to the output on this push; exiting."
    # exit 0
# fi

echo "3"
git add -A
echo "4"
git commit -a -m "Travis #$TRAVIS_BUILD_NUMBER"
echo "5"
git push git@github.com:$TRAVIS_REPO_SLUG.git $TARGET_BRANCH
echo "6"

# git push --quiet origin master > /dev/null 2>&1


